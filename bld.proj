lib thread =
	common.myr

	# linux impl of basic thread primitives
	condvar+linux.myr
	mutex+linux.myr
	spawn+linux.myr
	future+linux.myr
	exit+linux-x64.s

	# freebsd impl of thread primitives
	spawn+freebsd.myr
	exit+freebsd-x64.s

	atomic-impl+x64.s
	atomic.myr
;;

bin smoketest =
	atomictest.myr
	test/util.myr

	lib thread
;;
